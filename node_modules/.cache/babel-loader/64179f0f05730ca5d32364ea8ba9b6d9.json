{"ast":null,"code":"import { useState, useEffect, useRef, useCallback } from 'react';\nimport useIsMountedRef from 'use-is-mounted-ref';\nimport { useLazyRef } from '@vtaits/use-lazy-ref';\nimport { getInitialCache } from './getInitialCache';\nimport { getInitialOptionsCache } from './getInitialOptionsCache';\nimport { defaultShouldLoadMore } from './defaultShouldLoadMore';\nimport { defaultReduceOptions } from './defaultReduceOptions';\nimport { requestOptions } from './requestOptions';\nexport var increaseStateId = function increaseStateId(prevStateId) {\n  return prevStateId + 1;\n};\nexport var useAsyncPaginateBase = function useAsyncPaginateBase(params) {\n  var deps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  var defaultOptions = params.defaultOptions,\n    _params$loadOptionsOn = params.loadOptionsOnMenuOpen,\n    loadOptionsOnMenuOpen = _params$loadOptionsOn === void 0 ? true : _params$loadOptionsOn,\n    _params$debounceTimeo = params.debounceTimeout,\n    debounceTimeout = _params$debounceTimeo === void 0 ? 0 : _params$debounceTimeo,\n    inputValue = params.inputValue,\n    menuIsOpen = params.menuIsOpen,\n    _params$filterOption = params.filterOption,\n    filterOption = _params$filterOption === void 0 ? null : _params$filterOption,\n    _params$reduceOptions = params.reduceOptions,\n    reduceOptions = _params$reduceOptions === void 0 ? defaultReduceOptions : _params$reduceOptions,\n    _params$shouldLoadMor = params.shouldLoadMore,\n    shouldLoadMore = _params$shouldLoadMor === void 0 ? defaultShouldLoadMore : _params$shouldLoadMor;\n  var isMountedRef = useIsMountedRef();\n  var isInitRef = useRef(true);\n  var paramsRef = useRef(params);\n  paramsRef.current = params;\n  var setStateId = useState(0)[1];\n  var optionsCacheRef = useLazyRef(function () {\n    return getInitialOptionsCache(params);\n  });\n  var callRequestOptions = useCallback(function (caller) {\n    requestOptions(caller, paramsRef, optionsCacheRef, debounceTimeout, function (reduceState) {\n      optionsCacheRef.current = reduceState(optionsCacheRef.current);\n      if (isMountedRef.current) {\n        setStateId(increaseStateId);\n      }\n    }, reduceOptions);\n  }, [debounceTimeout]);\n  var handleScrolledToBottom = useCallback(function () {\n    var currentInputValue = paramsRef.current.inputValue;\n    var currentOptions = optionsCacheRef.current[currentInputValue];\n    if (currentOptions) {\n      callRequestOptions('menu-scroll');\n    }\n  }, [callRequestOptions]);\n  useEffect(function () {\n    if (isInitRef.current) {\n      isInitRef.current = false;\n    } else {\n      optionsCacheRef.current = {};\n      setStateId(increaseStateId);\n    }\n    if (defaultOptions === true) {\n      callRequestOptions('autoload');\n    }\n  }, deps);\n  useEffect(function () {\n    if (menuIsOpen && !optionsCacheRef.current[inputValue]) {\n      callRequestOptions('input-change');\n    }\n  }, [inputValue]);\n  useEffect(function () {\n    if (menuIsOpen && !optionsCacheRef.current[''] && loadOptionsOnMenuOpen) {\n      callRequestOptions('menu-toggle');\n    }\n  }, [menuIsOpen]);\n  var currentOptions = optionsCacheRef.current[inputValue] || getInitialCache(params);\n  return {\n    handleScrolledToBottom: handleScrolledToBottom,\n    shouldLoadMore: shouldLoadMore,\n    filterOption: filterOption,\n    isLoading: currentOptions.isLoading,\n    isFirstLoad: currentOptions.isFirstLoad,\n    options: currentOptions.options\n  };\n};","map":{"version":3,"names":["useState","useEffect","useRef","useCallback","useIsMountedRef","useLazyRef","getInitialCache","getInitialOptionsCache","defaultShouldLoadMore","defaultReduceOptions","requestOptions","increaseStateId","prevStateId","useAsyncPaginateBase","params","deps","arguments","length","undefined","defaultOptions","_params$loadOptionsOn","loadOptionsOnMenuOpen","_params$debounceTimeo","debounceTimeout","inputValue","menuIsOpen","_params$filterOption","filterOption","_params$reduceOptions","reduceOptions","_params$shouldLoadMor","shouldLoadMore","isMountedRef","isInitRef","paramsRef","current","setStateId","optionsCacheRef","callRequestOptions","caller","reduceState","handleScrolledToBottom","currentInputValue","currentOptions","isLoading","isFirstLoad","options"],"sources":["/Users/rajesh/Downloads/weather-app/node_modules/react-select-async-paginate/es/useAsyncPaginateBase.js"],"sourcesContent":["import { useState, useEffect, useRef, useCallback } from 'react';\nimport useIsMountedRef from 'use-is-mounted-ref';\nimport { useLazyRef } from '@vtaits/use-lazy-ref';\nimport { getInitialCache } from './getInitialCache';\nimport { getInitialOptionsCache } from './getInitialOptionsCache';\nimport { defaultShouldLoadMore } from './defaultShouldLoadMore';\nimport { defaultReduceOptions } from './defaultReduceOptions';\nimport { requestOptions } from './requestOptions';\nexport var increaseStateId = function increaseStateId(prevStateId) {\n  return prevStateId + 1;\n};\nexport var useAsyncPaginateBase = function useAsyncPaginateBase(params) {\n  var deps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  var defaultOptions = params.defaultOptions,\n      _params$loadOptionsOn = params.loadOptionsOnMenuOpen,\n      loadOptionsOnMenuOpen = _params$loadOptionsOn === void 0 ? true : _params$loadOptionsOn,\n      _params$debounceTimeo = params.debounceTimeout,\n      debounceTimeout = _params$debounceTimeo === void 0 ? 0 : _params$debounceTimeo,\n      inputValue = params.inputValue,\n      menuIsOpen = params.menuIsOpen,\n      _params$filterOption = params.filterOption,\n      filterOption = _params$filterOption === void 0 ? null : _params$filterOption,\n      _params$reduceOptions = params.reduceOptions,\n      reduceOptions = _params$reduceOptions === void 0 ? defaultReduceOptions : _params$reduceOptions,\n      _params$shouldLoadMor = params.shouldLoadMore,\n      shouldLoadMore = _params$shouldLoadMor === void 0 ? defaultShouldLoadMore : _params$shouldLoadMor;\n  var isMountedRef = useIsMountedRef();\n  var isInitRef = useRef(true);\n  var paramsRef = useRef(params);\n  paramsRef.current = params;\n  var setStateId = useState(0)[1];\n  var optionsCacheRef = useLazyRef(function () {\n    return getInitialOptionsCache(params);\n  });\n  var callRequestOptions = useCallback(function (caller) {\n    requestOptions(caller, paramsRef, optionsCacheRef, debounceTimeout, function (reduceState) {\n      optionsCacheRef.current = reduceState(optionsCacheRef.current);\n\n      if (isMountedRef.current) {\n        setStateId(increaseStateId);\n      }\n    }, reduceOptions);\n  }, [debounceTimeout]);\n  var handleScrolledToBottom = useCallback(function () {\n    var currentInputValue = paramsRef.current.inputValue;\n    var currentOptions = optionsCacheRef.current[currentInputValue];\n\n    if (currentOptions) {\n      callRequestOptions('menu-scroll');\n    }\n  }, [callRequestOptions]);\n  useEffect(function () {\n    if (isInitRef.current) {\n      isInitRef.current = false;\n    } else {\n      optionsCacheRef.current = {};\n      setStateId(increaseStateId);\n    }\n\n    if (defaultOptions === true) {\n      callRequestOptions('autoload');\n    }\n  }, deps);\n  useEffect(function () {\n    if (menuIsOpen && !optionsCacheRef.current[inputValue]) {\n      callRequestOptions('input-change');\n    }\n  }, [inputValue]);\n  useEffect(function () {\n    if (menuIsOpen && !optionsCacheRef.current[''] && loadOptionsOnMenuOpen) {\n      callRequestOptions('menu-toggle');\n    }\n  }, [menuIsOpen]);\n  var currentOptions = optionsCacheRef.current[inputValue] || getInitialCache(params);\n  return {\n    handleScrolledToBottom: handleScrolledToBottom,\n    shouldLoadMore: shouldLoadMore,\n    filterOption: filterOption,\n    isLoading: currentOptions.isLoading,\n    isFirstLoad: currentOptions.isFirstLoad,\n    options: currentOptions.options\n  };\n};"],"mappings":"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"},"metadata":{},"sourceType":"module"}